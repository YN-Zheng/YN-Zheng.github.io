# Spring

- 欲速则不达

## 概述

- Spring
  - 内核
    - IOC：控制反转
    - AOP：面向切片编程
  - 展现层：Spring MVC
  - 持久层：Spring JDBC
- 工厂模式解耦
  - 降低程序间的依赖关系
  - 编译期不依赖，运行时才依赖
- 解耦思路
  1. 使用反射来创建对象，避免使用new关键字
  2. 通过读取配置文件来获取要创建的对象全限定类名
- bean：在计算机英语中，有可重用组件的含义
- JAVABEAN：用java语言编写的可重用组件
- 单例：使用一个容器，以键值对的方式存储对象。每个对象仅被创建一次



### Spring的IOC

- 创建对象策略
  - 立即加载：一读取完配置文件马上就创建对象
    - ApplicationContext
    - 适用于单例对象
  - 延迟加载：根据id获取对象时才真正创建对象
    - BeanFactory
    - 适用于多例对象
- 创建Bean的三种方式
  - 使用默认构造函数创建
    - 若类中没有默认构造函数，则对象无法创建
  - 使用普通工厂中的方法创建对象
    - 使用某个类中的方法创建对象，并存入spring容器
  - 使用工厂中的静态方法创建对象
- bean的作用范围调整

  - bean标签的scope属性
    - 作用：指定bean的作用范围
  - 取值：
    - singleton：单例的
    - prototype：多例的
    - request：作用于web应用的请求范围
    - session：作用于web应用的绘画范围
    - global-session：用于集群环境的会话范围
- 依赖注入：在当前类需要用到其他类的对象， 有spring为我们提供，我们只需在配置文件中说明依赖关系的维护
    - 可以注入的数据：三类

      1. 基本类型和String
      2. 其他bean类型（在配置文件或注解配置过的bean）
      3. 复杂类型/集合类型

    - 注入的方式：三种

      1. 使用构造函数提供
      2. 使用set方法提供
      3. 使用注解提供
- 注入集合数据
    - 用于给List结构集合注入的标签
        - list array set
    - 用于给Map结构集合注入的标签
        - map props
    - 结构相同,标签可以互换